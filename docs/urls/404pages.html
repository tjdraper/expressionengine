<!DOCTYPE html>



<html>
	<head>
		<meta http-equiv="content-type" content="text/html" charset="utf-8" dir="ltr" lang="en-us">
	    
	    <title>404 Pages &mdash; ExpressionEngine 4.0.0-dp.5 documentation</title>

	    <meta name="viewport" content="initial-scale=1">

	    <link rel="stylesheet" href="../_static/asset/css/default.min.css" type="text/css" />
	    <script type="text/javascript">
	      var DOCUMENTATION_OPTIONS = {
	        URL_ROOT:    '../',
	        VERSION:     '4.0.0-dp.5',
	        COLLAPSE_INDEX: false,
	        FILE_SUFFIX: '.html',
	        HAS_SOURCE:  true
	      };
	    </script>
	    <link rel="top" title="ExpressionEngine 4.0.0-dp.5 documentation" href="../index.html" />
	    <link rel="up" title="URLs" href="index.html" />
	    <link rel="next" title="Removing index.php from URLs" href="remove_index.php.html" />
	    <link rel="prev" title="URLs" href="index.html" /> 
	</head>
	<body id="top">
		<section class="fill">
			<section class="row align-right fluid-fix">
				<section class="w-12 fluid-col" id="docs-main">
					<div class="box docs-wrap">
						<nav class="ver-nav">
							Switch to:
							<a href="https://docs.expressionengine.com/latest/"><b>v3</b> (Latest)</a>
							<a href="https://docs.expressionengine.com/v2/"><b>v2</b></a>
							<a href="https://docs.expressionengine.com/v1/"><b>v1</b></a>
						</nav>
						<div class="docs-header">
							<a class="small-menu" href="#docs-nav"></a>
							<h1>ExpressionEngine&reg; User Guide</h1>
							<form class="docs-download">
								<select>
									<option value="">Download&hellip;</option>
									<option value="https://docs.expressionengine.com/downloads/v3">Download v3 User Guide</option>
									<option value="https://docs.expressionengine.com/downloads/v2">Download v2 User Guide</option>
									<option value="https://docs.expressionengine.com/downloads/v1">Download v1 User Guide</option>
								</select>
							</form>
							<script>
								document.querySelector('.docs-download select').onchange = function() {
									window.location.href = this.value;
								};
							</script>
						</div>
						<div class="top-nav">
							<ul class="breadcrumb">
								<li><a href="../index.html">Home</a></li>
								<li><a href="index.html" accesskey="U">URLs</a></li>
								<li class="last">404 Pages</li>
							</ul>
						</div>
						<div id="content">
						<div class="section" id="pages">
<h1>404 Pages<a class="headerlink" href="#pages" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The setting is a site-wide preference</p>
</div>
<p>By default, ExpressionEngine will direct your visitor to the homepage when a 404
error is encountered.</p>
<div class="section" id="displaying-a-custom-404-page">
<h2>Displaying a Custom 404 Page<a class="headerlink" href="#displaying-a-custom-404-page" title="Permalink to this headline">¶</a></h2>
<p>If you would like to change the default way that ExpressionEngine handles 404
error codes, you can do that in the Control Panel.</p>
<p><span class="menuselection">Settings ‣ Template Settings</span></p>
<img alt="../_images/template_settings.png" src="../_images/template_settings.png" />
<p>The 404 page setting tells ExpressionEngine which template to use for all the
404 errors that are received. It is worth noting that using <a class="reference internal" href="../cp/settings/template.html#strict-url-label"><span class="std std-ref">Strict URLs</span></a> is preferable as this makes the path to your content more
precise, allows more relevant 404 pages, and does not allow your content to be
shown with variances in the URL structure</p>
</div>
<div class="section" id="when-is-a-404-page-shown">
<h2>When is a 404 Page Shown?<a class="headerlink" href="#when-is-a-404-page-shown" title="Permalink to this headline">¶</a></h2>
<p>It&#8217;s important to understand that there are two conditions in ExpressionEngine
that can cause the 404 page to be shown. An invalid template group and extra
segments.</p>
<p>The first condition is an invalid template group. ExpressionEngine only checks
the first <a class="reference internal" href="../templates/globals/url_segments.html"><span class="doc">segment</span></a> to determine whether
or not to show a 404 page. Since first segment is the template group,
<strong>ExpressionEngine will only display the 404 Template if the requested Template
Group in the URL does not exist.</strong></p>
<p>It is recommended that you set you set up a custom 404 page for your site. Even
though what a visitor may have entered in the URL is invalid, without a custom
404 page, they&#8217;ll still see your homepage which may lead to some confusion.</p>
<p>The second condition that will trigger a 404 status is extra segments. This will
require some code to be added to your template. Remember that ExpressionEngine
is only looking at the first segment to trigger a 404 status, in order to extend
this error checking beyond the first segment we need to use a conditional and
the <a class="reference internal" href="../templates/globals/single_variables.html#global-redirect"><span class="std std-ref">{redirect=} global variable</span></a>.</p>
<div class="highlight-ee"><div class="highlight"><pre><span></span><span class="p">{</span><span class="k">if</span> <span class="nv">segment_3</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">}</span>
  <span class="p">{</span><span class="nf">redirect</span><span class="p">=</span><span class="s2">&quot;404&quot;</span><span class="p">}</span>
<span class="p">{</span><span class="nf">/</span><span class="k">if</span><span class="p">}</span>
</pre></div>
</div>
<p>With the above code, if the third segment is not empty, ExpressionEngine will
show the 404 template that we have defined.</p>
</div>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>Often URLs entered by hand are not typed correctly, especially if the URL
includes the title of an entry. Avoiding mistyped URLs is much easier when
entering just a site name and a template group. For example:</p>
<p><code class="docutils literal"><span class="pre">example.com/blog</span></code></p>
<p>But let&#8217;s say that a visitor wants a specific entry in your blog template group
and so they type</p>
<p><code class="docutils literal"><span class="pre">example.com/blog/cats-in-dresses-dancing-to-Christmas-music</span></code></p>
<p>Chances are they will not get that right and trigger a 404. The template group
is correct so they will not see any errors. This makes it seem like they typed
everything out just right, but they are left wondering where the cats are.</p>
<p>Let&#8217;s take care of that. This is a single entry page, so we can use
<a class="reference internal" href="../channel/channel_entries.html#channel-entries-require-entry"><span class="std std-ref">require_entry=</span></a> in our channel entries tag
pair. This tells the channel entries tag pair to only return results if there is
a specific URL title found in the segment of the URL.</p>
<p>Now we need a way to deal with the times there are no results returned. To do
this we use a global variable and test for results.</p>
<div class="highlight-ee"><div class="highlight"><pre><span></span><span class="p">{</span><span class="k">if</span> <span class="nv">no_results</span><span class="p">}</span>
  <span class="p">{</span><span class="nf">redirect</span><span class="p">=</span><span class="s2">&quot;404&quot;</span><span class="p">}</span>
<span class="p">{</span><span class="nf">/</span><span class="k">if</span><span class="p">}</span>
</pre></div>
</div>
<p>So a completed block code would look like this.</p>
<div class="highlight-ee"><div class="highlight"><pre><span></span><span class="p">{</span><span class="nf">exp:channel:entries</span> <span class="na">channel</span><span class="p">=</span><span class="s2">&quot;blog&quot;</span> <span class="na">limit</span><span class="p">=</span><span class="s2">&quot;1&quot;</span> <span class="na">require_entry</span><span class="p">=</span><span class="s2">&quot;yes&quot;</span> <span class="na">url_title</span><span class="p">=</span><span class="s2">&quot;{segment_3}&quot;</span><span class="p">}</span>
  <span class="p">{</span><span class="k">if</span> <span class="nv">no_results</span><span class="p">}</span>
    <span class="p">{</span><span class="nf">redirect</span><span class="p">=</span><span class="s2">&quot;404&quot;</span><span class="p">}</span>
  <span class="p">{</span><span class="nf">/</span><span class="k">if</span><span class="p">}</span>

  Stuff here.
<span class="p">{</span><span class="nf">/exp:channel:entries</span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>

						</div>
						<div class="docs-footer">
							<p><a href="https://expressionengine.com/support/bugs/new">Report a problem with this page</a><br>
								ExpressionEngine<b class="reg-mark">&reg;</b> 4.0.0-dp.5 User Guide<br><span>&copy;2002–2017 <a href="https://ellislab.com/" rel="external">EllisLab, Inc.</a></span></p>
							<p><a class="scroll" href="#top"></a></p>
						</div>

					</div>
				</section>

				<section class="w-4 fixed-col" id="docs-nav">
					<div class="box docs-sidebar">
						<form class="docs-search" method="get" action="https://docs.expressionengine.com/search/latest/">
							<input type="text" name="q" id="q" placeholder="search eecms docs">
						</form>

						<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">Installation &amp; Updates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cp/index.html">The Control Panel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../add-ons/index.html">Add-Ons</a></li>
<li class="toctree-l1"><a class="reference internal" href="../channel/index.html">Channel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../comment/index.html">Comment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fieldtypes/index.html">Fieldtypes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../member/index.html">Member Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../msm/index.html">Multiple Site Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optimization/index.html">Optimizing ExpressionEngine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security/index.html">Securing ExpressionEngine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../templates/index.html">Template Language Overview</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">URLs</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">404 Pages</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="remove_index.php.html">Removing index.php from URLs</a></li>
<li class="toctree-l2"><a class="reference internal" href="template_routes.html">Template Routes</a></li>
<li class="toctree-l2"><a class="reference internal" href="url_structure.html">URL Structure</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../how_to/index.html">How-To Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/index.html">Add-On Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/index.html">General Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting/index.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bugs_and_security_reports/index.html">Bugs and Security Reports</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/changelog.html">ExpressionEngine 4.x Change Log</a></li>
</ul>

					</div>
				</section>
			</section>
		</section>
		<script type="text/javascript" src="../_static/jquery.js"></script>
		<script type="text/javascript" src="../_static/underscore.js"></script>
		<script type="text/javascript" src="../_static/doctools.js"></script>
		<script type="text/javascript" src="../_static/asset/js/common.js"></script>
		<script>
		!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
		n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
		n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
		t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
		document,'script','https://connect.facebook.net/en_US/fbevents.js');
		fbq('init', '565259520351602'); // Insert your pixel ID here.
		fbq('track', 'PageView');
		</script>
		<noscript><img height="1" width="1" style="display:none"
		src="https://www.facebook.com/tr?id=565259520351602&ev=PageView&noscript=1"
		/></noscript>
	</body>
</html>