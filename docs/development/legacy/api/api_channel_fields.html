<!DOCTYPE html>



<html>
	<head>
		<meta http-equiv="content-type" content="text/html" charset="utf-8" dir="ltr" lang="en-us">
	    
	    <title>ExpressionEngine Channel Fields API &mdash; ExpressionEngine 4.0.0-dp.4 documentation</title>

	    <meta name="viewport" content="initial-scale=1">

	    <link rel="stylesheet" href="../../../_static/asset/css/default.min.css" type="text/css" />
	    <script type="text/javascript">
	      var DOCUMENTATION_OPTIONS = {
	        URL_ROOT:    '../../../',
	        VERSION:     '4.0.0-dp.4',
	        COLLAPSE_INDEX: false,
	        FILE_SUFFIX: '.html',
	        HAS_SOURCE:  true
	      };
	    </script>
	    <link rel="top" title="ExpressionEngine 4.0.0-dp.4 documentation" href="../../../index.html" />
	    <link rel="up" title="Legacy API Library" href="index.html" />
	    <link rel="next" title="ExpressionEngine Channel Structure API" href="api_channel_structure.html" />
	    <link rel="prev" title="ExpressionEngine Channel Entries API" href="api_channel_entries.html" /> 
	</head>
	<body id="top">
		<section class="fill">
			<section class="row align-right fluid-fix">
				<section class="w-12 fluid-col" id="docs-main">
					<div class="box docs-wrap">
						<nav class="ver-nav">
							Switch to:
							<a href="https://docs.expressionengine.com/latest/"><b>v3</b> (Latest)</a>
							<a href="https://docs.expressionengine.com/v2/"><b>v2</b></a>
							<a href="https://docs.expressionengine.com/v1/"><b>v1</b></a>
						</nav>
						<div class="docs-header">
							<a class="small-menu" href="#docs-nav"></a>
							<h1>ExpressionEngine&reg; User Guide</h1>
							<form class="docs-download">
								<select>
									<option value="">Download&hellip;</option>
									<option value="https://docs.expressionengine.com/downloads/v3">Download v3 User Guide</option>
									<option value="https://docs.expressionengine.com/downloads/v2">Download v2 User Guide</option>
									<option value="https://docs.expressionengine.com/downloads/v1">Download v1 User Guide</option>
								</select>
							</form>
							<script>
								document.querySelector('.docs-download select').onchange = function() {
									window.location.href = this.value;
								};
							</script>
						</div>
						<div class="top-nav">
							<ul class="breadcrumb">
								<li><a href="../../../index.html">Home</a></li>
								<li><a href="../../index.html" >Add-On Development</a></li>
								<li><a href="../index.html" >Legacy Reference</a></li>
								<li><a href="index.html" accesskey="U">Legacy API Library</a></li>
								<li class="last">ExpressionEngine Channel Fields API</li>
							</ul>
						</div>
						<div id="content">
						<div class="section" id="expressionengine-channel-fields-api">
<h1>ExpressionEngine Channel Fields API<a class="headerlink" href="#expressionengine-channel-fields-api" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#calling-the-class" id="id2">Calling the Class</a></li>
<li><a class="reference internal" href="#function-reference" id="id3">Function Reference</a></li>
</ul>
</div>
<div class="section" id="calling-the-class">
<h2><a class="toc-backref" href="#id2">Calling the Class</a><a class="headerlink" href="#calling-the-class" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="Api_channel_fields">
<em class="property">class </em><code class="descname">Api_channel_fields</code><a class="headerlink" href="#Api_channel_fields" title="Permalink to this definition">¶</a></dt>
<dd><p>The Channel Fields class is called with the api-&gt;instantiate() function:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="nx">ee</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">library</span><span class="p">(</span><span class="s1">&#39;api&#39;</span><span class="p">);</span> <span class="nx">ee</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">legacy_api</span><span class="o">-&gt;</span><span class="na">instantiate</span><span class="p">(</span><span class="s1">&#39;channel_fields&#39;</span><span class="p">);</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="function-reference">
<h2><a class="toc-backref" href="#id3">Function Reference</a><a class="headerlink" href="#function-reference" title="Permalink to this headline">¶</a></h2>
<div class="contents local topic" id="id1">
<ul class="simple">
<li><a class="reference internal" href="#fetch-all-fieldtypes" id="id4">Fetch all Fieldtypes</a></li>
<li><a class="reference internal" href="#fetch-installed-fieldtypes" id="id5">Fetch installed Fieldtypes</a></li>
<li><a class="reference internal" href="#include-fieldtype-class" id="id6">Include Fieldtype Class</a></li>
<li><a class="reference internal" href="#setup-fieldtype-class" id="id7">Setup Fieldtype Class</a></li>
<li><a class="reference internal" href="#setup-entry-settings" id="id8">Setup Entry Settings</a></li>
<li><a class="reference internal" href="#set-fieldtype-settings" id="id9">Set Fieldtype Settings</a></li>
<li><a class="reference internal" href="#get-fieldtype-settings" id="id10">Get Fieldtype Settings</a></li>
<li><a class="reference internal" href="#call-a-fieldtype-method" id="id11">Call a Fieldtype Method</a></li>
<li><a class="reference internal" href="#create-or-update-a-channel-field" id="id12">Create or Update a Channel Field</a></li>
<li><a class="reference internal" href="#field-settings-variables" id="id13">Field Settings Variables</a></li>
</ul>
</div>
<div class="section" id="fetch-all-fieldtypes">
<h3><a class="toc-backref" href="#id4">Fetch all Fieldtypes</a><a class="headerlink" href="#fetch-all-fieldtypes" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt id="Api_channel_fields::fetch_all_fieldtypes">
<code class="descclassname">Api_channel_fields::</code><code class="descname">fetch_all_fieldtypes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Api_channel_fields::fetch_all_fieldtypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Goes through all fieldtype files, includes them (using
<code class="docutils literal"><span class="pre">include_handler()</span></code>), and returns an array of all found fieldtypes:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="nx">ee</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">api_channel_fields</span><span class="o">-&gt;</span><span class="na">fetch_all_fieldtypes</span><span class="p">();</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Nested associative arrays of fieldtype data (see below)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">Array</td>
</tr>
</tbody>
</table>
<p>Example of returned data:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;fieldtype_shortname&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;path&#39;</span>    <span class="o">=&gt;</span>  <span class="p">(</span><span class="nx">string</span><span class="p">)</span> <span class="nx">File</span> <span class="nx">Path</span><span class="p">,</span>
        <span class="s1">&#39;file&#39;</span>    <span class="o">=&gt;</span>  <span class="p">(</span><span class="nx">string</span><span class="p">)</span> <span class="nx">Filename</span><span class="p">,</span>
        <span class="s1">&#39;name&#39;</span>    <span class="o">=&gt;</span>  <span class="p">(</span><span class="nx">string</span><span class="p">)</span> <span class="nx">Human</span> <span class="nx">readable</span> <span class="nx">name</span><span class="p">,</span>
        <span class="s1">&#39;class&#39;</span>   <span class="o">=&gt;</span>  <span class="p">(</span><span class="nx">string</span><span class="p">)</span> <span class="k">Class</span> <span class="nc">Name</span><span class="p">,</span>
        <span class="s1">&#39;package&#39;</span>   <span class="o">=&gt;</span>  <span class="p">(</span><span class="nx">string</span><span class="p">)</span> <span class="nx">Package</span> <span class="nx">name</span>
    <span class="p">),</span>
    <span class="s1">&#39;fieldtype_shortname2&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
<span class="p">);</span>
</pre></div>
</div>
<p>A package name is only returned if the fieldtype comes from a third
party</p>
</dd></dl>

</div>
<div class="section" id="fetch-installed-fieldtypes">
<h3><a class="toc-backref" href="#id5">Fetch installed Fieldtypes</a><a class="headerlink" href="#fetch-installed-fieldtypes" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt id="Api_channel_fields::fetch_installed_fieldtypes">
<code class="descclassname">Api_channel_fields::</code><code class="descname">fetch_installed_fieldtypes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Api_channel_fields::fetch_installed_fieldtypes" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is identical to
<a class="reference internal" href="#Api_channel_fields::fetch_all_fieldtypes" title="Api_channel_fields::fetch_all_fieldtypes"><code class="xref php php-meth docutils literal"><span class="pre">fetch_all_fieldtypes</span></code></a>, but the returned
array is limited to fieldtypes that have been installed by the user:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="nx">ee</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">api_channel_fields</span><span class="o">-&gt;</span><span class="na">fetch_installed_fieldtypes</span><span class="p">();</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Nested associative arrays of installed fieldtype data.
Adds in version number and fieldtype ID.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">Array</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="include-fieldtype-class">
<h3><a class="toc-backref" href="#id6">Include Fieldtype Class</a><a class="headerlink" href="#include-fieldtype-class" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt id="Api_channel_fields::include_handler">
<code class="descclassname">Api_channel_fields::</code><code class="descname">include_handler</code><span class="sig-paren">(</span><em>$field_type</em><span class="sig-paren">)</span><a class="headerlink" href="#Api_channel_fields::include_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>This method includes the class that is responsible for a certain
fieldtype, and adds it to a list of known fieldtypes. Do not include
fieldtypes manually as it may cause ExpressionEngine to not recognize
them:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="nx">ee</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">api_channel_fields</span><span class="o">-&gt;</span><span class="na">include_handler</span><span class="p">((</span><span class="nx">string</span><span class="p">)</span> <span class="nv">$field_type</span><span class="p">);</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$field_type</strong> (<em>string</em>) &#8211; Name of the fieldtype to include (e.g.
ft.**field_name**.php)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Name of the fieldtype&#8217;s class.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">String</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="setup-fieldtype-class">
<h3><a class="toc-backref" href="#id7">Setup Fieldtype Class</a><a class="headerlink" href="#setup-fieldtype-class" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt id="Api_channel_fields::setup_handler">
<code class="descclassname">Api_channel_fields::</code><code class="descname">setup_handler</code><span class="sig-paren">(</span><em>$field_type</em><span class="sig-paren">)</span><a class="headerlink" href="#Api_channel_fields::setup_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>This method prepares resets the fieldtype class and its settings. It
must be called before a fieldtype is used:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="nx">ee</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">api_channel_fields</span><span class="o">-&gt;</span><span class="na">setup_handler</span><span class="p">((</span><span class="nx">string</span><span class="p">)</span> <span class="nv">$field_type</span><span class="p">);</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$field_type</strong> (<em>string</em>) &#8211; Name of the fieldtype to include (e.g.
ft.**field_name**.php)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><code class="docutils literal"><span class="pre">TRUE</span></code> if setup was successful, <code class="docutils literal"><span class="pre">FALSE</span></code> if not</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Boolean</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="setup-entry-settings">
<h3><a class="toc-backref" href="#id8">Setup Entry Settings</a><a class="headerlink" href="#setup-entry-settings" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt id="Api_channel_fields::setup_entry_settings">
<code class="descclassname">Api_channel_fields::</code><code class="descname">setup_entry_settings</code><span class="sig-paren">(</span><em>$channel_id</em>, <em>$entry_data</em><span class="optional">[</span>, <em>$bookmarklet = FALSE</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#Api_channel_fields::setup_entry_settings" title="Permalink to this definition">¶</a></dt>
<dd><p>This method will properly populate the settings array for all fields
in the specified channel. It returns an array of all field settings,
and is typically used before the Channel Entries API&#8217;s
<a class="reference internal" href="api_channel_entries.html"><span class="doc">submit_new_entry()</span></a>
method:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="nx">ee</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">api_channel_fields</span><span class="o">-&gt;</span><span class="na">setup_entry_settings</span><span class="p">((</span><span class="nx">string</span><span class="p">)</span> <span class="nv">$channel_id</span><span class="p">,</span> <span class="p">(</span><span class="k">array</span><span class="p">)</span> <span class="nv">$entry_data</span><span class="p">,</span> <span class="p">(</span><span class="nx">bool</span><span class="p">)</span> <span class="nv">$bookmarklet</span><span class="p">);</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$channel_id</strong> (<em>int</em>) &#8211; ID of the channel the entry is in</li>
<li><strong>$entry_data</strong> (<em>array</em>) &#8211; Associative array of entry data</li>
<li><strong>$bookmarklet</strong> (<em>boolean</em>) &#8211; <code class="docutils literal"><span class="pre">TRUE</span></code> if you need the data to be
setup for a bookmarklet</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Nested array of field settings for a channel with data</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="set-fieldtype-settings">
<h3><a class="toc-backref" href="#id9">Set Fieldtype Settings</a><a class="headerlink" href="#set-fieldtype-settings" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt id="Api_channel_fields::set_settings">
<code class="descclassname">Api_channel_fields::</code><code class="descname">set_settings</code><span class="sig-paren">(</span><em>$field_id</em>, <em>$settings</em><span class="sig-paren">)</span><a class="headerlink" href="#Api_channel_fields::set_settings" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is used to assign additional settings to a fieldtype. This
may be any data that a fieldtype developer may need to use in their
fieldtype. The settings array must include a <code class="docutils literal"><span class="pre">field_type</span></code> key, and
can include an optional <code class="docutils literal"><span class="pre">field_name</span></code> if used in a channel context:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="nx">ee</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">api_channel_fields</span><span class="o">-&gt;</span><span class="na">set_settings</span><span class="p">((</span><span class="nx">string</span><span class="p">)</span> <span class="nv">$field_id</span><span class="p">,</span> <span class="p">(</span><span class="nx">mixed</span><span class="p">)</span> <span class="nv">$settings</span><span class="p">);</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$field_id</strong> (<em>string</em>) &#8211; ID of the field</li>
<li><strong>$settings</strong> (<em>mixed</em>) &#8211; Array of settings to <strong>replace</strong> the
original settings with</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Void</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="get-fieldtype-settings">
<h3><a class="toc-backref" href="#id10">Get Fieldtype Settings</a><a class="headerlink" href="#get-fieldtype-settings" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt id="Api_channel_fields::get_settings">
<code class="descclassname">Api_channel_fields::</code><code class="descname">get_settings</code><span class="sig-paren">(</span><em>$field_id</em><span class="sig-paren">)</span><a class="headerlink" href="#Api_channel_fields::get_settings" title="Permalink to this definition">¶</a></dt>
<dd><p>This method gets the settings of an individual field:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="nx">ee</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">api_channel_fields</span><span class="o">-&gt;</span><span class="na">get_settings</span><span class="p">((</span><span class="nx">string</span><span class="p">)</span> <span class="nv">$field_id</span><span class="p">);</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$field_id</strong> (<em>string</em>) &#8211; ID of the field</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Array of settings or an empty array if that field doesn&#8217;t
exist</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="call-a-fieldtype-method">
<h3><a class="toc-backref" href="#id11">Call a Fieldtype Method</a><a class="headerlink" href="#call-a-fieldtype-method" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt id="Api_channel_fields::apply">
<code class="descclassname">Api_channel_fields::</code><code class="descname">apply</code><span class="sig-paren">(</span><em>$method</em><span class="optional">[</span>, <em>$parameters = array()</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#Api_channel_fields::apply" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a convenience method to call a fieldtype after it has been
setup. It will automatically setup the proper third party paths and
handle PHP4&#8217;s pass-by-reference quirks. It acts on the last fieldtype
that was passed to <code class="docutils literal"><span class="pre">setup_handler()</span></code>. It takes an array of
parameters:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="nx">ee</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">api_channel_fields</span><span class="o">-&gt;</span><span class="na">apply</span><span class="p">((</span><span class="nx">string</span><span class="p">)</span> <span class="nv">$method</span><span class="p">,</span> <span class="p">(</span><span class="nx">mixed</span><span class="p">)</span> <span class="nv">$parameters</span><span class="p">);</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$method</strong> (<em>string</em>) &#8211; Name of the method to run</li>
<li><strong>$parameters</strong> (<em>mixed</em>) &#8211; Parameters to send to the method</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The return value of the fieldtype function that was called.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Mixed</p>
</td>
</tr>
</tbody>
</table>
<p>Example Usage:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="nv">$parameters</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;foo&#39;</span>       <span class="o">=&gt;</span> <span class="s1">&#39;Dog&#39;</span><span class="p">,</span>
    <span class="s1">&#39;bar&#39;</span>       <span class="o">=&gt;</span> <span class="s1">&#39;Cat&#39;</span>
<span class="p">);</span>

<span class="nx">ee</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">api_channel_fields</span><span class="o">-&gt;</span><span class="na">setup_handler</span><span class="p">(</span><span class="s1">&#39;my_fieldtype&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nx">ee</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">api_channel_fields</span><span class="o">-&gt;</span><span class="na">apply</span><span class="p">(</span><span class="s1">&#39;my_method&#39;</span><span class="p">,</span> <span class="nv">$parameters</span><span class="p">);</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="create-or-update-a-channel-field">
<h3><a class="toc-backref" href="#id12">Create or Update a Channel Field</a><a class="headerlink" href="#create-or-update-a-channel-field" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt id="Api_channel_fields::update_field">
<code class="descclassname">Api_channel_fields::</code><code class="descname">update_field</code><span class="sig-paren">(</span><em>$field_data</em><span class="sig-paren">)</span><a class="headerlink" href="#Api_channel_fields::update_field" title="Permalink to this definition">¶</a></dt>
<dd><p>This creates a new channel field or updates an existing field. Include
a <code class="docutils literal"><span class="pre">field_id</span></code> in the <code class="docutils literal"><span class="pre">$field_data</span></code> array to update an existing
field, or omit <code class="docutils literal"><span class="pre">field_id</span></code> to create a new one.</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="nx">ee</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">api_channel_fields</span><span class="o">-&gt;</span><span class="na">update_field</span><span class="p">((</span><span class="k">array</span><span class="p">)</span> <span class="nv">$field_data</span><span class="p">);</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$field_data</strong> (<em>array</em>) &#8211; The field settings. Needs the following
keys: <code class="docutils literal"><span class="pre">group_id</span></code>, <code class="docutils literal"><span class="pre">site_id</span></code>, <code class="docutils literal"><span class="pre">field_name</span></code>,
<code class="docutils literal"><span class="pre">field_label</span></code>, <code class="docutils literal"><span class="pre">field_type</span></code>, <code class="docutils literal"><span class="pre">field_order</span></code>, and also
fieldtype-specific settings, e.g. <code class="docutils literal"><span class="pre">text_field_text_direction</span></code></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The field_id of the updated/created field.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">String</p>
</td>
</tr>
</tbody>
</table>
<p>Values that may be passed in the $field_data array include:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">group_id</span></code>, (<code class="docutils literal"><span class="pre">int</span></code>)</li>
<li><code class="docutils literal"><span class="pre">field_id</span></code>, (<code class="docutils literal"><span class="pre">int</span></code> optional)</li>
<li><code class="docutils literal"><span class="pre">field_name</span></code>, (<code class="docutils literal"><span class="pre">string</span></code> a-zA-Z0-9_- only)</li>
<li><code class="docutils literal"><span class="pre">field_label</span></code>, (<code class="docutils literal"><span class="pre">string</span></code>)</li>
<li><code class="docutils literal"><span class="pre">field_type</span></code>, (<code class="docutils literal"><span class="pre">string</span></code> a valid fieldtype short name)</li>
<li><code class="docutils literal"><span class="pre">field_order</span></code>, (<code class="docutils literal"><span class="pre">int</span></code>)</li>
<li><code class="docutils literal"><span class="pre">field_instructions</span></code>, (<code class="docutils literal"><span class="pre">string</span></code>)</li>
<li><code class="docutils literal"><span class="pre">field_required</span></code>, (<code class="docutils literal"><span class="pre">string</span></code> y/n)</li>
<li><code class="docutils literal"><span class="pre">field_search</span></code>, (<code class="docutils literal"><span class="pre">string</span></code> y/n)</li>
<li><code class="docutils literal"><span class="pre">field_is_hidden</span></code>, (<code class="docutils literal"><span class="pre">string</span></code> y/n)</li>
<li><code class="docutils literal"><span class="pre">field_fmt</span></code>, (<code class="docutils literal"><span class="pre">string</span></code>)</li>
<li><code class="docutils literal"><span class="pre">field_show_fmt</span></code>, (<code class="docutils literal"><span class="pre">string</span></code>)</li>
<li><code class="docutils literal"><span class="pre">field_text_direction</span></code>, (<code class="docutils literal"><span class="pre">string</span></code> ltr/rtl)</li>
<li><code class="docutils literal"><span class="pre">field_maxl</span></code>, (<code class="docutils literal"><span class="pre">int</span></code>)</li>
<li>and other fieldtype-specific settings, see the fieldtype&#8217;s <code class="docutils literal"><span class="pre">display_settings</span></code> and <code class="docutils literal"><span class="pre">save_settings</span></code> methods for more options</li>
</ul>
<p>Example Usage:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="nv">$field_data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;group_id&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s1">&#39;field_name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;blog_body&#39;</span><span class="p">,</span>
    <span class="s1">&#39;field_label&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Body&#39;</span><span class="p">,</span>
    <span class="s1">&#39;field_type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;text&#39;</span><span class="p">,</span>
    <span class="s1">&#39;field_order&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
    <span class="s1">&#39;field_required&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span>
    <span class="s1">&#39;field_search&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span>
    <span class="s1">&#39;field_is_hidden&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;n&#39;</span><span class="p">,</span>
    <span class="s1">&#39;field_instructions&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;field_maxl&#39;</span> <span class="o">=&gt;</span> <span class="mi">128</span><span class="p">,</span>
    <span class="s1">&#39;text_field_fmt&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;none&#39;</span><span class="p">,</span>
    <span class="s1">&#39;text_field_show_fmt&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;n&#39;</span><span class="p">,</span>
    <span class="s1">&#39;text_field_text_direction&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;ltr&#39;</span><span class="p">,</span>
    <span class="s1">&#39;text_field_content_type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;all&#39;</span><span class="p">,</span>
    <span class="s1">&#39;text_field_show_smileys&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;n&#39;</span><span class="p">,</span>
    <span class="s1">&#39;text_field_show_glossary&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;n&#39;</span><span class="p">,</span>
    <span class="s1">&#39;text_field_show_spellcheck&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;n&#39;</span><span class="p">,</span>
    <span class="s1">&#39;text_field_show_file_selector&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;n&#39;</span><span class="p">,</span>
<span class="p">);</span>

<span class="nx">ee</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">api_channel_fields</span><span class="o">-&gt;</span><span class="na">update_field</span><span class="p">(</span><span class="nv">$field_data</span><span class="p">);</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="field-settings-variables">
<h3><a class="toc-backref" href="#id13">Field Settings Variables</a><a class="headerlink" href="#field-settings-variables" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt id="Api_channel_fields::field_edit_vars">
<code class="descclassname">Api_channel_fields::</code><code class="descname">field_edit_vars</code><span class="sig-paren">(</span><em>$group_id</em><span class="optional">[</span>, <em>$field_id = FALSE</em><span class="optional">[</span>, <em>$field_types = FALSE</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#Api_channel_fields::field_edit_vars" title="Permalink to this definition">¶</a></dt>
<dd><p>This method supplies the view variables for field settings in the
Edit/Create Field screen. This is used prior to and in conjunction
with <code class="docutils literal"><span class="pre">api_channel_fields-&gt;update_field()</span></code>. <code class="docutils literal"><span class="pre">$field_id</span></code> is optional
if you are creating a new field. <code class="docutils literal"><span class="pre">$field_types</span></code> is optional, and is
an array of field types to display. By default, all field types are
shown in the view:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="nx">ee</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">api_channel_fields</span><span class="o">-&gt;</span><span class="na">field_edit_vars</span><span class="p">((</span><span class="nx">int</span><span class="p">)</span> <span class="nv">$group_id</span><span class="p">,</span> <span class="p">(</span><span class="nx">int</span><span class="p">)</span> <span class="nv">$field_id</span><span class="p">,</span> <span class="p">(</span><span class="k">array</span><span class="p">)</span> <span class="nv">$field_types</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>group_id</strong> (<em>int</em>) &#8211; Group to add/edit field</li>
<li><strong>$field_id</strong> (<em>int</em>) &#8211; Field ID if you&#8217;re editing, FALSE if it&#8217;s new</li>
<li><strong>$field_types</strong> (<em>array</em>) &#8211; Array of field types to present as
<code class="docutils literal"><span class="pre">field_type_options</span></code>, will show all valid field types if
<code class="docutils literal"><span class="pre">FALSE</span></code></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">View variables for the <code class="docutils literal"><span class="pre">admin/field_edit</span></code> view</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Array</p>
</td>
</tr>
</tbody>
</table>
<p>Example Usage:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="nv">$vars</span> <span class="o">=</span> <span class="nx">ee</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">api_channel_fields</span><span class="o">-&gt;</span><span class="na">field_edit_vars</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
<span class="k">return</span> <span class="nx">ee</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">view</span><span class="p">(</span><span class="s1">&#39;admin/field_edit&#39;</span><span class="p">,</span> <span class="nv">$vars</span><span class="p">,</span> <span class="k">TRUE</span><span class="p">);</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>
</div>

						</div>
						<div class="docs-footer">
							<p><a href="https://expressionengine.com/support/bugs/new">Report a problem with this page</a><br>
								ExpressionEngine<b class="reg-mark">&reg;</b> 4.0.0-dp.4 User Guide<br><span>&copy;2002–2017 <a href="https://ellislab.com/" rel="external">EllisLab, Inc.</a></span></p>
							<p><a class="scroll" href="#top"></a></p>
						</div>

					</div>
				</section>

				<section class="w-4 fixed-col" id="docs-nav">
					<div class="box docs-sidebar">
						<form class="docs-search" method="get" action="https://docs.expressionengine.com/search/latest/">
							<input type="text" name="q" id="q" placeholder="search eecms docs">
						</form>

						<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../intro/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation/index.html">Installation &amp; Updates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cp/index.html">The Control Panel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../add-ons/index.html">Add-Ons</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../channel/index.html">Channel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../comment/index.html">Comment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fieldtypes/index.html">Fieldtypes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../member/index.html">Member Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../msm/index.html">Multiple Site Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../optimization/index.html">Optimizing ExpressionEngine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security/index.html">Securing ExpressionEngine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../templates/index.html">Template Language Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../urls/index.html">URLs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../how_to/index.html">How-To Guides</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Add-On Development</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../v4_addon_migration.html">v4 Add-on Migration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../v3_addon_migration/index.html">v3 Add-on Migration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../addon_setup_php_file.html">The <code class="docutils literal"><span class="pre">addon.setup.php</span></code> File</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../core/index.html">Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../services/index.html">Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../shared_form_view.html">Shared Form View</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../constants.html">Constants Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../plugins.html">Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../modules.html">Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../extensions.html">Extensions Development</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../fieldtypes.html">Fieldtypes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rte_tools.html">RTE Tools API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cp_javascript/index.html">Control Panel Javascript Reference</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Legacy Reference</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../database/index.html">Database Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../libraries/index.html">Libraries</a></li>
<li class="toctree-l3"><a class="reference internal" href="../helpers/index.html">Helpers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../models.html">Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../views.html">Views</a></li>
<li class="toctree-l3"><a class="reference internal" href="../controllers.html">Controllers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../drivers.html">Drivers</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Legacy API Library</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="api_channel_categories.html">ExpressionEngine Channel Categories API</a></li>
<li class="toctree-l4"><a class="reference internal" href="api_channel_entries.html">ExpressionEngine Channel Entries API</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">ExpressionEngine Channel Fields API</a><ul class="simple">
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="api_channel_structure.html">ExpressionEngine Channel Structure API</a></li>
<li class="toctree-l4"><a class="reference internal" href="api_template_structure.html">ExpressionEngine Template Structure API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../common_functions.html">Common Functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../guidelines/index.html">Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/tree_datastructure.html">Tree Datastructure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../emoticons.html">Emoticon Development</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developer_preview_program.html">Developer Preview Program</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../json_version_feed.html">JSON Version Feed</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../general/index.html">General Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../troubleshooting/index.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bugs_and_security_reports/index.html">Bugs and Security Reports</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../about/changelog.html">ExpressionEngine 4.x Change Log</a></li>
</ul>

					</div>
				</section>
			</section>
		</section>
		<script type="text/javascript" src="../../../_static/jquery.js"></script>
		<script type="text/javascript" src="../../../_static/underscore.js"></script>
		<script type="text/javascript" src="../../../_static/doctools.js"></script>
		<script type="text/javascript" src="../../../_static/asset/js/common.js"></script>
		<script>
		!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
		n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
		n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
		t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
		document,'script','https://connect.facebook.net/en_US/fbevents.js');
		fbq('init', '565259520351602'); // Insert your pixel ID here.
		fbq('track', 'PageView');
		</script>
		<noscript><img height="1" width="1" style="display:none"
		src="https://www.facebook.com/tr?id=565259520351602&ev=PageView&noscript=1"
		/></noscript>
	</body>
</html>